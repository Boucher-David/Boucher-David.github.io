function searchStorage(){this.searchStorageLocal=[],this.getStorage=()=>{let a=JSON.parse(window.localStorage.getItem("stockCodeStorage"))||0;this.searchStorageLocal=0<a.length?a:[],window.searchStorageLocal=this.searchStorageLocal},this.setStorage=a=>{let b=!0;0<this.searchStorageLocal.length?($.each(this.searchStorageLocal,(c,d)=>{d.newCode===a&&(b=!1)}),b&&this.searchStorageLocal.push({newCode:a})):this.searchStorageLocal.push({newCode:a}),window.localStorage.removeItem("stockCodeStorage"),window.localStorage.setItem("stockCodeStorage",JSON.stringify(this.searchStorageLocal)),this.getStorage()},this.clearStorage=()=>{window.localStorage.removeItem("stockCodeStorage"),this.getStorage()},this.appendValues=()=>{0<this.searchStorageLocal.length&&($("#previousStocksId").find("option").not(":first").remove(),$.each(this.searchStorageLocal,(a,b)=>{let c=new Option(b.newCode,b.newCode);$("#previousStocksId").append(c)}),$(".previousStocks").show())}}var storage=new searchStorage;storage.getStorage(),storage.appendValues();var getFinanceData={data:function(a,b){return`https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${b}&interval=${a}&apikey=03KMUXXHLTRXD7LD`,$.getJSON(`https:/\/www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${b}&interval=${a}&apikey=03KMUXXHLTRXD7LD`).then(c=>{void 0===c["Error Message"]?(storage.setStorage(b),storage.getStorage(),storage.appendValues(),$(".previousStocks").show(),this.postResults(c["Time Series ("+a+")"])):this.error(b)})},error:function(a){a=0===a.length?"No Code":a,$("#guide").hide(),$("#errorMessage").show().text(`Something went wrong. Please check the stock code again. You entered: ${a}`)},postResults:function(a){$("#stockForm").css("display","inline-block");let b=[],c=[],d=[],f=[];$.each(a,(h,i)=>{b.push(parseFloat(i["1. open"])),c.push(parseFloat(i["2. high"])),d.push(parseFloat(i["3. low"])),f.push(parseFloat(i["4. close"]))});return new Chartist.Line("#chart",{series:[b,c,d,f]},{axisX:{showGrid:!1},plugins:[Chartist.plugins.legend({legendNames:["  Open","  High","  Low","  Close"]})],showLine:!0,showPoint:!1,width:800,height:400,lineSmooth:!0}),void $(".chart").show()}};document.getElementById("clearHistory").addEventListener("click",function(){storage.clearStorage(),$(".previousStocks").hide()}),document.getElementById("submit").addEventListener("click",a=>{$("#errorMessage").hide(),$("#guide").show(),a.preventDefault();let b=document.getElementById("enterStockInput").value.toString().toUpperCase();selectOldID=document.getElementById("previousStocksId"),selectOldIDValue=selectOldID[selectOldID.selectedIndex].text.toString().toUpperCase();let c=document.getElementById("timeIntervalSelect").options,d=c[c.selectedIndex].text;"NONE"===selectOldIDValue?getFinanceData.data(d,b):getFinanceData.data(d,selectOldIDValue)});
